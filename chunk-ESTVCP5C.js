import{a as Y}from"./chunk-YD2TKTSE.js";import{a as z,b as G}from"./chunk-6AGBNEZH.js";import{A as r,B as P,C as A,D as S,E as w,G as a,H as f,I as D,J as y,K as x,M as U,N as $,U as L,a as p,c as O,d as u,e as C,g as b,h as F,i as q,j as B,m as E,p as m,q as N,r as s,s as V,t as h,u as I,v as _,w as k,x as v,y as g,z as o}from"./chunk-NJCD2NJG.js";function T(n,e){let t=!e?.manualCleanup;t&&!e?.injector&&F(T);let i=t?e?.injector?.get(E)??b(E):null,l=H(e?.equal),c;e?.requireSync?c=m({kind:0},{equal:l}):c=m({kind:1,value:e?.initialValue},{equal:l});let j,R=n.subscribe({next:d=>c.set({kind:1,value:d}),error:d=>{if(e?.rejectErrors)throw d;c.set({kind:2,error:d})},complete:()=>{j?.()}});if(e?.requireSync&&c().kind===0)throw new C(601,!1);return j=i?.onDestroy(R.unsubscribe.bind(R)),U(()=>{let d=c();switch(d.kind){case 1:return d.value;case 2:throw d.error;case 0:throw new C(601,!1)}},{equal:e?.equal})}function H(n=Object.is){return(e,t)=>e.kind===1&&t.kind===1&&n(e.value,t.value)}function J(n,e){if(n&1&&(o(0,"li",7),a(1),y(2,"titlecase"),r()),n&2){let t=e.$implicit;s(),D(" ",x(2,1,t.name)," ")}}function K(n,e){if(n&1&&P(0,"app-error-message",9),n&2){let t=w();I("error",t.errorMessage())}}function Q(n,e){if(n&1&&(o(0,"ul")(1,"li")(2,"div",20)(3,"div",21),a(4),r(),o(5,"div",22),a(6),r(),o(7,"div",23),a(8),r()()()()),n&2){let t=e.$implicit;s(4),f(t.name),s(2),f(t.baseStat),s(2),D("Effort: ",t.effort,"")}}function W(n,e){if(n&1){let t=A();o(0,"button",27),S("click",function(){q(t);let l=w().$implicit,c=w();return B(c.loadEfectsById(l.id))}),a(1," Check Effects "),r()}}function X(n,e){if(n&1&&(o(0,"div",12)(1,"div",24)(2,"div",25),a(3),y(4,"titlecase"),r(),h(5,W,2,0,"button",26),r()()),n&2){let t=e.$implicit;s(3),f(x(4,2,t.name)),s(2),_((t.name==null?null:t.name.length)>0?5:-1)}}function Z(n,e){n&1&&(o(0,"div",14),a(1,"Pokemon Available On:"),r())}function ee(n,e){if(n&1&&(o(0,"div",16)(1,"div",21),a(2),y(3,"titlecase"),r()()),n&2){let t=e.$implicit;s(2),f(x(3,1,t))}}var M=class n{pokemonService=b(G);pokemonStats=m([]);pokemonVersions=m([]);pokemonName=m("");pokemonImage=m("");abilityEfects=m([]);abilitiyId=m([]);pokemonAbility=m([]);errorMessage=m("");pokemonId=T(b(L).params.pipe(O(e=>e.pokemonId)));pokemonType=m([]);constructor(){this.loadImageDetails(),this.loadPokemonName(),this.loadpokemonStats()}loadPokemonDetailsToPage(){this.pokemonService.loadPokemonsDetails(this.pokemonId()).pipe(u(e=>(this.errorMessage.set(e),p))).subscribe(e=>{let t=e.abilities.map(l=>({name:l.ability?.name,id:l.ability?.url.split("/").slice(-2,-1)[0]}));this.pokemonAbility.set(t);let i=t.map(l=>l.id);this.abilitiyId.set(i)})}firePokemons(){return{}}loadPokemonName(){this.pokemonService.loadPokemonsDetails(this.pokemonId()).pipe(u(e=>(this.errorMessage.set(e),p))).subscribe(e=>{let t=e.forms[0].name,i=e.types.map(l=>l.type);this.pokemonName.set(t),this.pokemonType.set(i)})}loadpokemonStats(){this.pokemonService.loadPokemonsDetails(this.pokemonId()).pipe(u(e=>(this.errorMessage.set(e),p))).subscribe(e=>{let t=e.stats.map(i=>({name:i.stat.name,baseStat:i.base_stat,effort:i.effort}));this.pokemonStats.set(t)})}loadPokemonType(){}loadPokemonFeatures(){this.pokemonService.loadPokemonsDetails(this.pokemonId()).pipe(u(e=>(this.errorMessage.set(e),p))).subscribe(e=>{let t=e.game_indices.map(i=>i.version.name);this.pokemonVersions.set(t),console.log(t)})}loadImageDetails(){this.pokemonImage.set(`${z.pokeImagesURL}/${this.pokemonId()}.png`)}loadEfectsById(e){this.pokemonService.loadAbilities(e).pipe(u(t=>(this.errorMessage.set(t),p))).subscribe(t=>{this.abilityEfects.set([t.effect_entries[0].effect,t.effect_entries[1].effect])})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=V({type:n,selectors:[["app-pokemons-details"]],decls:36,vars:7,consts:[[1,"justify-items-center","my-10","grid","grid-cols-[repeat(auto-fit,_minmax(300px,_1fr))]","gap-4","px-4"],[1,"card","bg-base-100","w-full","max-w-md","shadow-sm"],[1,"text-center","mt-5"],[1,"font-semibold","text-2xl"],["alt","No Images",1,"my-10",3,"src"],[1,"mx-5"],[1,"card","bg-base-100","w-full","shadow-sm","p-2","font-bold"],[1,"font-semibold","m-2"],[1,"text-center"],[3,"error"],[1,"flex","flex-wrap","justify-center","gap-3","m-3"],[1,"flex","flex-col","items-center","gap-3"],[1,"stats","stats-horizontal","shadow","w-full","max-w-md"],[1,"mx-2","card-body"],[1,"stat-title","m-2"],[1,"flex","flex-wrap","gap-3","justify-center","m-3"],[1,"stat","bg-base-200","p-3","rounded","shadow","w-full","sm:w-48","text-center"],[1,"text-center","mt-4"],[1,"btn","btn-primary",3,"click"],[1,"text-center","my-5"],[1,"justify-items-center","stat","bg-base-200","p-3","rounded","shadow","w-full","sm:w-48"],[1,"stat-title"],[1,"stat-value"],[1,"stat-desc"],[1,"stat","w-full","text-center"],[1,"font-semibold"],[1,"mx-5","my-2","btn","btn-primary-content"],[1,"mx-5","my-2","btn","btn-primary-content",3,"click"]],template:function(t,i){t&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),a(4),y(5,"titlecase"),r()(),o(6,"figure"),P(7,"img",4),r(),o(8,"div",5)(9,"div",6),a(10," Tipo: "),o(11,"ul"),v(12,J,3,3,"li",7,k),r()()(),o(14,"div",8),h(15,K,1,1,"app-error-message",9),r(),o(16,"div",10),v(17,Q,9,3,"ul",null,k),r(),o(19,"div",11),v(20,X,6,4,"div",12,k),r(),o(22,"div",13)(23,"ul")(24,"li"),a(25),r()(),h(26,Z,2,0,"div",14),o(27,"div",15),v(28,ee,4,3,"div",16,k),r(),o(30,"div",17)(31,"button",18),S("click",function(){return i.loadPokemonFeatures()}),a(32," Look All Game Versions "),r()()()()(),o(33,"div",19)(34,"button",18),S("click",function(){return i.loadPokemonDetailsToPage()}),a(35," Look More Details "),r()()),t&2&&(s(4),D(" ",x(5,5,i.pokemonName())," "),s(3),I("src",i.pokemonImage(),N),s(5),g(i.pokemonType()),s(3),_(i.errorMessage()?15:-1),s(2),g(i.pokemonStats()),s(3),g(i.pokemonAbility()),s(5),f(i.abilityEfects()),s(),_(i.pokemonVersions().length>0?26:-1),s(2),g(i.pokemonVersions()))},dependencies:[$,Y],encapsulation:2,changeDetection:0})};export{M as default};
