import{a as Y}from"./chunk-YD2TKTSE.js";import{a as z,b as G}from"./chunk-6AGBNEZH.js";import{A as o,B as D,C as $,D as C,E as f,G as a,H as b,I as E,J as x,K as h,M as A,N as U,U as L,a as p,c as O,d as u,e as I,g as k,h as F,i as q,j as B,m as w,p as m,q as N,r as s,s as V,t as _,u as P,v as S,w as v,x as g,y,z as r}from"./chunk-NJCD2NJG.js";function T(i,e){let t=!e?.manualCleanup;t&&!e?.injector&&F(T);let n=t?e?.injector?.get(w)??k(w):null,l=H(e?.equal),c;e?.requireSync?c=m({kind:0},{equal:l}):c=m({kind:1,value:e?.initialValue},{equal:l});let j,R=i.subscribe({next:d=>c.set({kind:1,value:d}),error:d=>{if(e?.rejectErrors)throw d;c.set({kind:2,error:d})},complete:()=>{j?.()}});if(e?.requireSync&&c().kind===0)throw new I(601,!1);return j=n?.onDestroy(R.unsubscribe.bind(R)),A(()=>{let d=c();switch(d.kind){case 1:return d.value;case 2:throw d.error;case 0:throw new I(601,!1)}},{equal:e?.equal})}function H(i=Object.is){return(e,t)=>e.kind===1&&t.kind===1&&i(e.value,t.value)}function J(i,e){if(i&1&&(r(0,"li",7),a(1),x(2,"titlecase"),o()),i&2){let t=e.$implicit;s(),E(" ",h(2,1,t.name)," ")}}function K(i,e){if(i&1&&D(0,"app-error-message",9),i&2){let t=f();P("error",t.errorMessage())}}function Q(i,e){if(i&1&&(r(0,"ul")(1,"li")(2,"div",16)(3,"div",17),a(4),o(),r(5,"div",18),a(6),o(),r(7,"div",19),a(8),o()()()()),i&2){let t=e.$index,n=f();s(4),b(n.pokemonStats()[t].name),s(2),b(n.pokemonStats()[t].baseStat),s(2),E(" effort: ",n.pokemonStats()[t].effort," ")}}function W(i,e){if(i&1){let t=$();r(0,"button",22),C("click",function(){q(t);let l=f().$implicit,c=f();return B(c.loadEfectsById(l.id))}),a(1," Check Efects "),o()}}function X(i,e){if(i&1&&(r(0,"div",10)(1,"div",16)(2,"ul")(3,"li")(4,"div",20),a(5),x(6,"titlecase"),o()()(),r(7,"div"),_(8,W,2,0,"button",21),o()()()),i&2){let t=e.$implicit;s(5),b(h(6,2,t.name)),s(3),S((t.name==null?null:t.name.length)>0?8:-1)}}function Z(i,e){i&1&&(r(0,"div",12),a(1,"Pokemon Available On:"),o())}function ee(i,e){if(i&1&&(r(0,"ul")(1,"li")(2,"div",20)(3,"div",17),a(4),x(5,"titlecase"),o()()()()),i&2){let t=e.$index,n=f();s(4),E(" ",h(5,1,n.pokemonVersions()[t])," ")}}var M=class i{pokemonService=k(G);pokemonStats=m([]);pokemonVersions=m([]);pokemonName=m("");pokemonImage=m("");abilityEfects=m([]);abilitiyId=m([]);pokemonAbility=m([]);errorMessage=m("");pokemonId=T(k(L).params.pipe(O(e=>e.pokemonId)));pokemonType=m([]);constructor(){this.loadImageDetails(),this.loadPokemonName(),this.loadpokemonStats()}loadPokemonDetailsToPage(){this.pokemonService.loadPokemonsDetails(this.pokemonId()).pipe(u(e=>(this.errorMessage.set(e),p))).subscribe(e=>{let t=e.abilities.map(l=>({name:l.ability?.name,id:l.ability?.url.split("/").slice(-2,-1)[0]}));this.pokemonAbility.set(t);let n=t.map(l=>l.id);this.abilitiyId.set(n)})}firePokemons(){return{}}loadPokemonName(){this.pokemonService.loadPokemonsDetails(this.pokemonId()).pipe(u(e=>(this.errorMessage.set(e),p))).subscribe(e=>{let t=e.forms[0].name,n=e.types.map(l=>l.type);this.pokemonName.set(t),this.pokemonType.set(n)})}loadpokemonStats(){this.pokemonService.loadPokemonsDetails(this.pokemonId()).pipe(u(e=>(this.errorMessage.set(e),p))).subscribe(e=>{let t=e.stats.map(n=>({name:n.stat.name,baseStat:n.base_stat,effort:n.effort}));this.pokemonStats.set(t)})}loadPokemonType(){}loadPokemonFeatures(){this.pokemonService.loadPokemonsDetails(this.pokemonId()).pipe(u(e=>(this.errorMessage.set(e),p))).subscribe(e=>{let t=e.game_indices.map(n=>n.version.name);this.pokemonVersions.set(t),console.log(t)})}loadImageDetails(){this.pokemonImage.set(`${z.pokeImagesURL}/${this.pokemonId()}.png`)}loadEfectsById(e){this.pokemonService.loadAbilities(e).pipe(u(t=>(this.errorMessage.set(t),p))).subscribe(t=>{this.abilityEfects.set([t.effect_entries[0].effect,t.effect_entries[1].effect])})}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=V({type:i,selectors:[["app-pokemons-details"]],decls:38,vars:7,consts:[[1,"my-10","grid","grid-cols-[repeat(auto-fit,_minmax(300px,_1fr))]","gap-4","justify-items-center"],[1,"card","bg-base-100","w-200","shadow-sm"],[1,"justify-items-center","mt-5"],[1,"font-semibold","text-2xl"],["alt","No Images",1,"my-10",3,"src"],[1,"justify-items-start","mx-5"],[1,"card","bg-base-100","w-full","shadow-sm","p-2","font-bold"],[1,"font-semibold","m-2"],[1,"justify-items-center"],[3,"error"],[1,"stats","stats-horizontal","shadow","m-3"],[1,"mx-2","card-body"],[1,"stat-title","m-2"],[1,"btn","btn-primary",3,"click"],[1,"flex"],[1,"my-5"],[1,"stat","justify-items-center"],[1,"stat-title"],[1,"stat-value"],[1,"stat-desc"],[1,"stat"],[1,"mx-5","my-2","btn","btn-primary-content"],[1,"mx-5","my-2","btn","btn-primary-content",3,"click"]],template:function(t,n){t&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),a(4),x(5,"titlecase"),o()(),r(6,"figure"),D(7,"img",4),o(),r(8,"div",5)(9,"div",6),a(10," Tipo: "),g(11,J,3,3,"li",7,v),o()(),r(13,"div",8)(14,"div"),_(15,K,1,1,"app-error-message",9),o()(),r(16,"div",10),g(17,Q,9,3,"ul",null,v),o(),r(19,"div",8)(20,"div"),g(21,X,9,4,"div",10,v),o()(),r(23,"div",11)(24,"ul")(25,"li"),a(26),o()(),_(27,Z,2,0,"div",12),r(28,"div",10),g(29,ee,6,3,"ul",null,v),o(),r(31,"button",13),C("click",function(){return n.loadPokemonFeatures()}),a(32," Look All Game Versions "),o(),D(33,"div",14),o()()(),r(34,"div",8)(35,"div",15)(36,"button",13),C("click",function(){return n.loadPokemonDetailsToPage()}),a(37," Look More Details "),o()()()),t&2&&(s(4),b(h(5,5,n.pokemonName())),s(3),P("src",n.pokemonImage(),N),s(4),y(n.pokemonType()),s(4),S(n.errorMessage()?15:-1),s(2),y(n.pokemonStats()),s(4),y(n.pokemonAbility()),s(5),b(n.abilityEfects()),s(),S(n.pokemonVersions().length>0?27:-1),s(2),y(n.pokemonVersions()))},dependencies:[U,Y],encapsulation:2,changeDetection:0})};export{M as default};
