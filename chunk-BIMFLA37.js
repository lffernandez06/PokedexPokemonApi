import{a as $}from"./chunk-YD2TKTSE.js";import{a as V,b as k}from"./chunk-6AGBNEZH.js";import{A as r,B as l,C as E,D as s,E as N,F as B,G as d,I as R,J as U,K as j,M as Q,N as A,O as F,W as O,a as b,d as _,g as p,i as v,j as P,n as S,o as u,p as g,q as T,r as m,s as c,t as D,u as f,v as I,w as L,x as M,y as w,z as i}from"./chunk-NJCD2NJG.js";var h=class n{pokemonService=p(k);pokemonQuery=S();searchElement(t){this.pokemonQuery.emit(t)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=c({type:n,selectors:[["app-search-box"]],outputs:{pokemonQuery:"pokemonQuery"},decls:3,vars:0,consts:[["txtName",""],[1,"flex","justify-center","px-4"],["type","text","placeholder","Search",1,"border-1","border-blue-100","w-full","max-w-3xl","px-4","py-2","rounded-md","bg-base-100","text-base-content","placeholder:text-base-content","focus:outline-none","focus:ring-2","focus:ring-primary",3,"keyup"]],template:function(e,o){if(e&1){let a=E();i(0,"div",1)(1,"input",2,0),s("keyup",function(){v(a);let q=B(2);return P(o.searchElement(q.value))}),r()()}},encapsulation:2,changeDetection:0})};var y=class n{router=p(O);id=u();name=u();ImageURL=u();pokemonType=u([]);showDetails(){this.router.navigate(["primary",this.id()])}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=c({type:n,selectors:[["app-card"]],inputs:{id:[1,"id"],name:[1,"name"],ImageURL:[1,"ImageURL"],pokemonType:[1,"pokemonType"]},decls:13,vars:4,consts:[[1,"card","bg-base-100","w-70","shadow-sm"],["alt","No Images",3,"src"],[1,"card-body"],[1,"card-title"],[1,"flex"],[1,"mr-1","flex-auto","btn","btn-primary",3,"click"],[1,"grid","grid-cols-[repeat(auto-fit,_minmax(300px,_1fr))]","gap-4","justify-items-center"]],template:function(e,o){e&1&&(i(0,"div",0)(1,"figure"),l(2,"img",1),r(),i(3,"div",2)(4,"h2",3),d(5),U(6,"titlecase"),r(),i(7,"p"),d(8,"A card component has a figure, a body part, and inside body there are title and actions parts"),r(),i(9,"div",4)(10,"button",5),s("click",function(){return o.showDetails()}),d(11,"Details"),r()()()(),l(12,"div",6)),e&2&&(m(2),f("src",o.ImageURL(),T),m(3),R("",j(6,2,o.name())," "))},dependencies:[F,A],encapsulation:2,changeDetection:0})};function G(n,t){if(n&1&&(i(0,"div",0),l(1,"app-card",6),r()),n&2){let e=t.$implicit;m(),f("id",e.id)("name",e.name)("ImageURL",e.imageURL)}}function H(n,t){if(n&1&&l(0,"app-error-message",5),n&2){let e=N();f("error",e.errorMessage())}}var C=class n{loadPokemons=p(k);pokemonsList=g([]);pokemonImages=g([]);searchTerm=g("");errorMessage=g("");filteredPokemons=Q(()=>this.pokemonsList().filter(t=>t.name.toLowerCase().includes(this.searchTerm().toLowerCase())));ngOnInit(){}pokemonSearByName(t){this.searchTerm.set(t)}checkPokeApi(){this.loadPokemons.loadPokeApi().pipe(_(t=>(this.errorMessage.set(t),b))).subscribe(t=>{this.pokemonsList.set(t.results);let e=t.results.map(o=>{let a=o.url.split("/").filter(Boolean).pop();return{name:o.name,url:o.url,imageURL:`${V.pokeImagesURL}/${a}.png`,id:a}});this.pokemonsList.set(e)}),this.loadPokemons.loadPokeApi().subscribe()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=c({type:n,selectors:[["app-pokemon-page"]],decls:10,vars:1,consts:[[1,"my-10"],[3,"pokemonQuery"],[1,"justify-items-center","mt-5"],[1,"btn","btn-primary",3,"click"],[1,"grid","grid-cols-[repeat(auto-fit,_minmax(300px,_1fr))]","gap-4","justify-items-center"],[3,"error"],[1,"",3,"id","name","ImageURL"]],template:function(e,o){e&1&&(i(0,"div",0)(1,"app-search-box",1),s("pokemonQuery",function(x){return o.pokemonSearByName(x)}),r()(),i(2,"div",2)(3,"div")(4,"button",3),s("click",function(){return o.checkPokeApi()}),d(5," Cargar Pokemons "),r()()(),i(6,"div",4),M(7,G,2,3,"div",0,L),D(9,H,1,1,"app-error-message",5),r()),e&2&&(m(7),w(o.filteredPokemons()),m(2),I(o.errorMessage()?9:-1))},dependencies:[h,y,$],encapsulation:2,changeDetection:0})};export{C as default};
